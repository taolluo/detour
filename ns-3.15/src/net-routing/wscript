## -*- Mode: python; py-indent-offset: 4; indent-tabs-mode: nil; coding: utf-8; -*-

def build(bld):
    module = bld.create_ns3_module('net-routing', ['internet'])
    module.includes = '.'
    module.source = [
        'framework/net-routing-stack-helper.cc',
        'framework/net-routing-helper.cc',
        'framework/net-routing.cc',
        'framework/net-routing-protocol.cc',
        'framework/net-header.cc',
        'robin-index/robin-index.cc',
        'fattree/fattree-routing-stack-helper.cc',
        'fattree/fattree-routing-protocol.cc',
        'fattree/fattree-header.cc',
        'bcube/bcube-header.cc',
        'bcube/bcube-probe-tag.cc',
        'bcube/bcube-routing-protocol.cc',
        'bcube/bcube-routing-stack-helper.cc',
        'bfs/bfs-header.cc',
        'bfs/bfs-routing-protocol.cc',
        'bfs/bfs-routing-stack-helper.cc',
        'vl2/vl2-routing-protocol.cc', 
        'vl2/vl2-routing-engine.cc', 
        'vl2/vl2-routing-stack-helper.cc',
        'vl2/vl2-header.cc',
	'ecmp/ecmp-header.cc',
	'ecmp/ecmp-routing-protocol.cc',
	'ecmp/ecmp-routing-stack-helper.cc',
        'ecmp-fattree/ecmp-fattree-header.cc',
        'ecmp-fattree/ecmp-fattree-routing-protocol.cc',
        'ecmp-fattree/ecmp-fattree-routing-stack-helper.cc',
        'ecmp-vl2/ecmp-vl2-header.cc',
        'ecmp-vl2/ecmp-vl2-routing-protocol.cc',
        'ecmp-vl2/ecmp-vl2-routing-stack-helper.cc',
        'ecmp-clos/ecmp-clos-header.cc',
        'ecmp-clos/ecmp-clos-routing-protocol.cc',
        'ecmp-clos/ecmp-clos-routing-stack-helper.cc',
        'vlb-vl2/vlb-vl2-header.cc',
        'vlb-vl2/vlb-vl2-routing-protocol.cc',
        'vlb-vl2/vlb-vl2-routing-stack-helper.cc',
        'clos/clos-header.cc',
        'clos/clos-routing-protocol.cc',
        'clos/clos-routing-stack-helper.cc',
        ]

    #headers = bld.new_task_gen('ns3header')
    headers = bld.new_task_gen(features=['ns3header'])
    headers.module = 'net-routing'
    headers.source = [
        'framework/net-routing-stack-helper.h',
        'framework/net-routing-helper.h',
        'framework/net-routing.h',
        'framework/net-routing-protocol.h',
        'framework/net-header.h',
        'robin-index/robin-index.h',
        'fattree/fattree-routing-stack-helper.h',
        'fattree/fattree-routing-protocol.h',
        'fattree/fattree-header.h',
        'bcube/bcube-header.h',
        'bcube/bcube-probe-tag.h',
        'bcube/bcube-routing-protocol.h',
        'bcube/bcube-routing-stack-helper.h',
        'bfs/bfs-header.h',
        'bfs/bfs-routing-protocol.h',
        'bfs/bfs-routing-stack-helper.h',
        'vl2/vl2-routing-protocol.h',
        'vl2/vl2-routing-engine.h',
        'vl2/vl2-routing-stack-helper.h',
        'vl2/vl2-header.h', 
	'ecmp/ecmp-header.h',
	'ecmp/ecmp-routing-protocol.h',
	'ecmp/ecmp-routing-stack-helper.h',
        'ecmp-fattree/ecmp-fattree-header.h',
        'ecmp-fattree/ecmp-fattree-routing-protocol.h',
        'ecmp-fattree/ecmp-fattree-routing-stack-helper.h',
        'ecmp-vl2/ecmp-vl2-header.h',
        'ecmp-vl2/ecmp-vl2-routing-protocol.h',
        'ecmp-vl2/ecmp-vl2-routing-stack-helper.h',
        'ecmp-clos/ecmp-clos-header.h',
        'ecmp-clos/ecmp-clos-routing-protocol.h',
        'ecmp-clos/ecmp-clos-routing-stack-helper.h',
        'clos/clos-header.h',
        'clos/clos-routing-protocol.h',
        'clos/clos-routing-stack-helper.h',
        'vlb-vl2/vlb-vl2-header.h',
        'vlb-vl2/vlb-vl2-routing-protocol.h',
        'vlb-vl2/vlb-vl2-routing-stack-helper.h',
        ]
